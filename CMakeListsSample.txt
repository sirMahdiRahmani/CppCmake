cmake_minimum_required(VERSION 3.22.1)

project (Eigen LANGUAGES CXX)

#Save cmake build out to the bin dir
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ../bin)

set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall")

set(CMAKE_CXX_STANDARD 23)

#Compile options
# add_compile_options(-std=c++23)


#Find Eigen library install on OS
find_package(Eigen3)

#Link Eigen inc with the default inc
link_directories(${Eigen_INCLUDE_DIRs})

# OPTION(DEBUG_CMAKE_TARGETS "enable debug output for cmake target properties" ON)
# if(DEBUG_CMAKE_TARGETS)
# 	set(CMAKE_DEBUG_TARGET_PROPERTIES
#             INCLUDE_DIRECTORIES
#         )
# endif()

# I../include
include_directories(${include} "/usr/include/eigen3" "/usr/local/include" "/usr/include")

# Puts all .cpp file inside src to the source variable'
file(GLOB_RECURSE SOURCES include/*.h src/*.cpp)

#Add .o file to the project name
add_executable(${PROJECT_NAME} ${SOURCES})

include_directories($(Eigen__SOURCE_DIR)/include)

#Target lib linking
target_link_libraries(${PROJECT_NAME}
    ${Eigen_LIBRARIES}
)


